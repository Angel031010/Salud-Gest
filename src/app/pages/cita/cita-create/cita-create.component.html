<div class="container mx-auto p-6 max-w-3xl">
  <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Crear Cita Médica</h1>

  <form [formGroup]="citaForm" (ngSubmit)="enviarFormulario()" class="bg-white shadow-md rounded-lg p-6 space-y-4">

    <!-- Paciente -->
    <div>
      <label class="block text-gray-700 font-semibold mb-1">Paciente</label>
      <select formControlName="pacienteId" class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option value="">Selecciona un paciente</option>
        <option *ngFor="let paciente of pacientes" [value]="paciente.pacienteId">
          {{ paciente.nombre }} {{ paciente.apPaterno }} {{ paciente.apMaterno }}
        </option>
      </select>
      <div *ngIf="citaForm.get('pacienteId')?.touched && citaForm.get('pacienteId')?.invalid" class="text-red-500 text-sm mt-1">
        Selecciona un paciente
      </div>
    </div>

    <!-- Médico -->
    <div>
      <label class="block text-gray-700 font-semibold mb-1">Médico</label>
      <select formControlName="medicoId" class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option value="">Selecciona un médico</option>
        <option *ngFor="let medico of medicos" [value]="medico.medicoId">
          {{ medico.nombre }} {{ medico.apPaterno }} {{ medico.apMaterno }}
        </option>
      </select>
      <div *ngIf="citaForm.get('medicoId')?.touched && citaForm.get('medicoId')?.invalid" class="text-red-500 text-sm mt-1">
        Selecciona un médico
      </div>
    </div>

    <!-- Centro Médico -->
    <div>
      <label class="block text-gray-700 font-semibold mb-1">Centro Médico</label>
      <select formControlName="centroMedicoId" class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option value="">Selecciona un centro médico</option>
        <option *ngFor="let centro of centrosMedicos" [value]="centro.centroMedicoId">
          {{ centro.nombre }}
        </option>
      </select>
      <div *ngIf="citaForm.get('centroMedicoId')?.touched && citaForm.get('centroMedicoId')?.invalid" class="text-red-500 text-sm mt-1">
        Selecciona un centro médico
      </div>
    </div>

    <!-- Fecha y Hora -->
    <div>
      <label class="block text-gray-700 font-semibold mb-1">Fecha y Hora</label>
      <input type="datetime-local" formControlName="fechaHora" class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"/>
      <div *ngIf="citaForm.get('fechaHora')?.touched && citaForm.get('fechaHora')?.invalid" class="text-red-500 text-sm mt-1">
        Ingresa fecha y hora de la cita
      </div>
    </div>

    <!-- Duración -->
    <div>
      <label class="block text-gray-700 font-semibold mb-1">Duración (minutos)</label>
      <input type="number" formControlName="duracionMinutos" class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"/>
      <div *ngIf="citaForm.get('duracionMinutos')?.touched && citaForm.get('duracionMinutos')?.invalid" class="text-red-500 text-sm mt-1">
        Ingresa la duración de la cita
      </div>
    </div>

    <!-- Motivo -->
    <div>
      <label class="block text-gray-700 font-semibold mb-1">Motivo</label>
      <textarea formControlName="motivo" rows="3" class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Describe el motivo de la cita"></textarea>
      <div *ngIf="citaForm.get('motivo')?.touched && citaForm.get('motivo')?.invalid" class="text-red-500 text-sm mt-1">
        Ingresa un motivo válido (mínimo 2 caracteres)
      </div>
    </div>

    <!-- Botón enviar -->
    <div class="flex justify-end">
      <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-lg shadow-md transition duration-300">
        Crear Cita
      </button>
    </div>
  </form>
</div>
